(this["webpackJsonpreact__test-task"]=this["webpackJsonpreact__test-task"]||[]).push([[0],{22:function(e,t,a){e.exports=a(46)},27:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(19),r=a.n(o),i=(a(27),a(9)),s=a.n(i),c=a(20),m=a(21),u=a(7),h=a(2),p=a(3),d=a(5),E=a(4),y=a(6),b=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.employee,a=e.handleCheckboxChange,n=e.tableHeaders.map((function(e){return Object.keys(e)[0]}));return l.a.createElement("tr",null,n.map((function(e,n){switch(typeof t[e]){case"string":case"number":return l.a.createElement("td",{key:1e4+n},t[e]);case"boolean":return l.a.createElement("td",{key:1e4+n},l.a.createElement("input",{type:"checkbox",checked:t[e],onChange:function(){return a(t._id)}}));default:return l.a.createElement("td",null)}})))}}]),t}(l.a.Component),f=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.employees,a=e.handleDeleteEmployee,n=e.startAddingEmployee,o=e.startEdittingEmployee,r=e.inEdition,i=e.startAddingColumn;return l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{type:"button",className:"addEmployeeButton",onClick:n},"ADD EMPLOYEE"),l.a.createElement("button",{type:"button",className:"editEmployeeButton",disabled:1!==t.filter((function(e){return!0===e.checked})).length,onClick:o},"EDIT"),l.a.createElement("button",{type:"button",className:"deleteEmployeeButton",disabled:r,onClick:a},"DELETE"),l.a.createElement("button",{type:"button",className:"addColumnButton",disabled:r,onClick:i},"ADD COLUMN"))}}]),t}(l.a.Component),v=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={firstName:"",lastName:"",login:"",workPhone:0,personalPhone:0,workEmail:"",personalEmail:"",businessLocation:"",company:"",role:"",hourlyRate:0,isActive:!1},a.handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(u.a)({},n,t))},a}return Object(y.a)(t,e),Object(p.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.inEdition&&this.setState({firstName:this.props.checkedEmployees[0].firstName||"",lastName:this.props.checkedEmployees[0].lastName||"",login:this.props.checkedEmployees[0].login||"",workPhone:this.props.checkedEmployees[0].workPhone||0,personalPhone:this.props.checkedEmployees[0].personalPhone||0,workEmail:this.props.checkedEmployees[0].workEmail||"",personalEmail:this.props.checkedEmployees[0].personalEmail||"",businessLocation:this.props.checkedEmployees[0].businessLocation||"",company:this.props.checkedEmployees[0].company||"",role:this.props.checkedEmployees[0].role||"",hourlyRate:this.props.checkedEmployees[0].hourlyRate||0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.formActive,n=t.handleFormSubmit,o=t.changeCurrentEmployee,r=t.inEdition;return l.a.createElement("form",{className:a?"activeTable":"disabledTable"},l.a.createElement("b",null,"Add Employee"),l.a.createElement("br",null),l.a.createElement("div",{className:"block"},l.a.createElement("p",null,"PERSONAL"),l.a.createElement("hr",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"firstName"},"First Name:"),l.a.createElement("input",{id:"firstName",type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleInputChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),l.a.createElement("input",{id:"lastName",type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleInputChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"login"},"Login:"),l.a.createElement("input",{id:"login",type:"text",name:"login",value:this.state.login,onChange:this.handleInputChange})),l.a.createElement("p",null,"CONTACT"),l.a.createElement("hr",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"workPhone"},"Work Phone:"),l.a.createElement("input",{id:"workPhone",type:"tel",name:"workPhone",value:this.state.workPhone,onChange:this.handleInputChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"personalPhone"},"Personal Phone:"),l.a.createElement("input",{id:"personalPhone",type:"tel",name:"personalPhone",value:this.state.personalPhone,onChange:this.handleInputChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"email"},"Work Email:"),l.a.createElement("input",{id:"email",type:"email",name:"workEmail",value:this.state.workEmail,onChange:this.handleInputChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"personalEmail"},"Personal Email:"),l.a.createElement("input",{id:"personalEmail",type:"email",name:"personalEmail",value:this.state.personalEmail,onChange:this.handleInputChange})),l.a.createElement("p",null,"EMPLOYMENT"),l.a.createElement("hr",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"businessLocation"},"Business Location:"),l.a.createElement("select",{id:"businessLocation",name:"businessLocation",value:this.state.businessLocation,onChange:this.handleInputChange},l.a.createElement("option",{value:"",hidden:!0},"Choose the location"),l.a.createElement("option",{value:"Kyiv"},"Kyiv"),l.a.createElement("option",{value:"San Francisco"},"San Francisco"),l.a.createElement("option",{value:"New York"},"New York"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"company"},"Company:"),l.a.createElement("select",{id:"company",name:"company",value:this.state.company,onChange:this.handleInputChange},l.a.createElement("option",{value:"",hidden:!0},"Choose the company"),l.a.createElement("option",{value:"Moving LLC"},"Moving LLC"),l.a.createElement("option",{value:"WTT Solutions"},"WTT Solutions"),l.a.createElement("option",{value:"Kyivstar"},"Kyivstar"),l.a.createElement("option",{value:"Apple"},"Apple"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"role"},"Role:"),l.a.createElement("select",{id:"role",name:"role",value:this.state.role,onChange:this.handleInputChange},l.a.createElement("option",{value:"",hidden:!0},"Choose the role"),l.a.createElement("option",{value:"Helper"},"Helper"),l.a.createElement("option",{value:"Developer"},"Developer"),l.a.createElement("option",{value:"Project Manager"},"Project Manager"),l.a.createElement("option",{value:"Tester"},"Tester"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"hourlyRate"},"Hourly Rate:"),l.a.createElement("input",{id:"hourlyRate",type:"number",name:"hourlyRate",className:"shortInput",value:this.state.hourlyRate,onChange:this.handleInputChange}))),l.a.createElement("button",{type:"button",className:"submitButton",onClick:r?function(){return o(e.state)}:function(){return n(e.state)}},"Add Employee"))}}]),t}(l.a.Component),g=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={columnName:"",value:""},a.handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(u.a)({},n,t))},a}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onColumnAdding,n=t.handleAddColumnSubmit;return l.a.createElement("form",{className:a?"activeTable":"disabledTable"},l.a.createElement("h3",null,"Add Column"),l.a.createElement("div",{className:"block"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"columnName"},"Column Name:"),l.a.createElement("input",{id:"columnName",type:"text",name:"columnName",value:this.state.columnName,onChange:this.handleInputChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"value"},"Value:"),l.a.createElement("input",{id:"value",type:"text",name:"value",value:this.state.value,onChange:this.handleInputChange}))),l.a.createElement("button",{type:"button",className:"submitButton",onClick:function(){return n(e.state)}},"SUBMIT"))}}]),t}(l.a.Component),k=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.totalNumberOfData,a=e.employeesPerPage,n=e.handleChangeActivePage,o=e.activePage,r=Math.ceil(t/a),i=[],s=1;s<=r;s++)i.push(s);return l.a.createElement("ul",{className:"pageList"},i.map((function(e){return l.a.createElement("li",{key:e,value:e,className:"".concat(o===e?"active":""," pageItem"),onClick:n},e)})))}}]),t}(l.a.Component),C=a(8),N=a.n(C);function O(e){return N.a.post("http://localhost:3002/user/remove/".concat(e))}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var j=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={tableHeaders:[{checked:"#"},{_id:"id"},{firstName:"First Name"},{lastName:"Last Name"},{role:"Role"},{businessLocation:"Business Location"},{workEmail:"Work Mail"},{workPhone:"Phone"},{hourlyRate:"Hourly Rate"}],employees:[],totalNumberOfData:0,checkedEmployees:[],formActive:!1,inEdition:!1,onColumnAdding:!1,activePage:1,employeesPerPage:5},a.handleCheckboxChange=function(e){a.setState((function(t){var a=t.employees.map((function(t){return t._id!==e?t:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{checked:!t.checked})}));return{employees:a,checkedEmployees:a.filter((function(e){return!0===e.checked}))}}))},a.handleDeleteEmployee=function(){var e=a.state.checkedEmployees.map((function(e){return e._id}));if(e.length>1)for(var t=function(t){O(e[t]).then((function(n){var l=a.state.employees.filter((function(a){return a._id!==e[t]}));a.setState({employees:l})})).catch((function(e){console.log(e)}))},n=0;n<e.length;n++)t(n);else O(e).then((function(t){var n=a.state.employees.filter((function(t){return t._id!==e[0]}));a.setState({employees:n})})).catch((function(e){console.log(e)}))},a.startAddingEmployee=function(){a.setState({formActive:!0,inEdition:!1,onColumnAdding:!1})},a.handleFormSubmit=function(e){var t,n={firstName:e.firstName,lastName:e.lastName,role:e.role,businessLocation:e.businessLocation,workEmail:e.workEmail,workPhone:e.workPhone,checked:!1,login:e.login,personalPhone:e.personalPhone,personalEmail:e.personalEmail,hourlyRate:e.hourlyRate};(t=n,N.a.post("http://localhost:3002/user/create",t)).then((function(e){a.getEmpoyeesList(a.state.activePage)})),a.setState({formActive:!1,inEdition:!1,onColumnAdding:!1}),e.firstName="",e.lastName="",e.login="",e.workPhone=0,e.personalPhone=0,e.workEmail="",e.personalail="",e.businessLocation="",e.company="",e.role="",e.hourlyRate=0},a.startEdittingEmployee=function(){a.setState({formActive:!0,inEdition:!0,onColumnAdding:!1})},a.changeCurrentEmployee=function(e){var t,n,l=a.state.checkedEmployees[0];l.firstName=e.firstName,l.lastName=e.lastName,l.role=e.role,l.businessLocation=e.businessLocation,l.workEmail=e.workEmail,l.workPhone=e.workPhone,l.hourlyRate=e.hourlyRate,l.checked=!1,l.login=e.login,l.personalPhone=e.personalPhone,l.personalworkMail=e.personalworkMail,t=l._id,n=l,N.a.post("http://localhost:3002/user/edit/".concat(t),n),a.setState({formActive:!1,inEdition:!1}),e.firstName="",e.lastName="",e.login="",e.workPhone=0,e.personalPhone=0,e.workEmail="",e.personalMail="",e.businessLocation="",e.company="",e.role="",e.hourlyRate=0},a.startAddingColumn=function(){a.setState({onColumnAdding:!0,formActive:!1,inEdition:!1})},a.handleAddColumnSubmit=function(e){if(a.state.tableHeaders.map((function(e){return Object.values(e)[0]})).includes(e.columnName))return alert("This prop is alredy in this table!");var t=Object(u.a)({},e.value,e.columnName);a.setState((function(e){return{tableHeaders:[].concat(Object(m.a)(e.tableHeaders),[t]),formActive:!1,inEdition:!1,onColumnAdding:!1}})),e.columnName="",e.value=""},a.getEmpoyeesList=function(e){(function(e){return N.a.get("http://localhost:3002/user/page/".concat(5*(e-1)))})(e).then((function(e){var t=e.data.userList,n=e.data.fullLength;a.setState({employees:t,totalNumberOfData:n})})).catch((function(e){return console.log(e)}))},a.handleChangeActivePage=function(e){a.setState({activePage:e.target.value}),a.getEmpoyeesList(e.target.value)},a}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getEmpoyeesList(this.state.activePage);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.employees,n=t.formActive,o=t.inEdition,r=t.checkedEmployees,i=t.tableHeaders,s=t.onColumnAdding,c=t.employeesPerPage,m=t.totalNumberOfData,u=t.activePage;return l.a.createElement("div",{className:"mainContent"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,i.map((function(e){return l.a.createElement("th",{key:Object.values(e)},Object.values(e))})))),l.a.createElement("tbody",null,a.map((function(t){return l.a.createElement(b,{key:t._id,employee:t,handleCheckboxChange:e.handleCheckboxChange,tableHeaders:i})})))),l.a.createElement("div",{className:"underTableArea"},l.a.createElement(f,{employees:a,handleDeleteEmployee:this.handleDeleteEmployee,startAddingEmployee:this.startAddingEmployee,startEdittingEmployee:this.startEdittingEmployee,startAddingColumn:this.startAddingColumn,inEdition:o}),l.a.createElement(k,{totalNumberOfData:m,employeesPerPage:c,handleChangeActivePage:this.handleChangeActivePage,activePage:u})),l.a.createElement(v,{formActive:n,handleFormSubmit:this.handleFormSubmit,inEdition:o,checkedEmployees:r,changeCurrentEmployee:this.changeCurrentEmployee}),l.a.createElement(g,{onColumnAdding:s,handleAddColumnSubmit:this.handleAddColumnSubmit}))}}]),t}(l.a.Component);r.a.render(l.a.createElement(j,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d2e50f4c.chunk.js.map